class e extends Error{constructor(t,i={}){var s;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"viem@2.12.0"});const n=i.cause instanceof e?i.cause.details:(null==(s=i.cause)?void 0:s.message)?i.cause.message:i.details,r=i.cause instanceof e&&i.cause.docsPath||i.docsPath;this.message=[t||"An error occurred.","",...i.metaMessages?[...i.metaMessages,""]:[],...r?[`Docs: https://viem.sh${r}${i.docsSlug?`#${i.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join("\n"),i.cause&&(this.cause=i.cause),this.details=n,this.docsPath=r,this.metaMessages=i.metaMessages,this.shortMessage=t}walk(e){return t(this,e)}}function t(e,i){return(null==i?void 0:i(e))?e:e&&"object"==typeof e&&"cause"in e?t(e.cause,i):i?null:e}class i extends e{constructor({max:e,min:t,signed:i,size:s,value:n}){super(`Number "${n}" is not in safe ${s?`${8*s}-bit ${i?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class s extends e{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function n(e,{strict:t=!0}={}){return!!e&&("string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}function r(e){return n(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function o(e,{dir:t="left"}={}){let i="string"==typeof e?e.replace("0x",""):e,s=0;for(let n=0;n<i.length-1&&"0"===i["left"===t?n:i.length-n-1].toString();n++)s++;return i="left"===t?i.slice(s):i.slice(0,i.length-s),"string"==typeof e?(1===i.length&&"right"===t&&(i=`${i}0`),`0x${i.length%2==1?`0${i}`:i}`):i}class a extends e{constructor({offset:e,position:t,size:i}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${i}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class c extends e{constructor({size:e,targetSize:t,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function u(e,{dir:t,size:i=32}={}){return"string"==typeof e?function(e,{dir:t,size:i=32}={}){if(null===i)return e;const s=e.replace("0x","");if(s.length>2*i)throw new c({size:Math.ceil(s.length/2),targetSize:i,type:"hex"});return`0x${s["right"===t?"padEnd":"padStart"](2*i,"0")}`}(e,{dir:t,size:i}):function(e,{dir:t,size:i=32}={}){if(null===i)return e;if(e.length>i)throw new c({size:e.length,targetSize:i,type:"bytes"});const s=new Uint8Array(i);for(let n=0;n<i;n++){const r="right"===t;s[r?n:i-n-1]=e[r?n:e.length-n-1]}return s}(e,{dir:t,size:i})}const h=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function l(e,t={}){return"number"==typeof e||"bigint"==typeof e?d(e,t):"string"==typeof e?function(e,t={}){const i=p.encode(e);return f(i,t)}(e,t):"boolean"==typeof e?function(e,t={}){const i=`0x${Number(e)}`;if("number"==typeof t.size)return x(i,{size:t.size}),u(i,{size:t.size});return i}(e,t):f(e,t)}function f(e,t={}){let i="";for(let n=0;n<e.length;n++)i+=h[e[n]];const s=`0x${i}`;return"number"==typeof t.size?(x(s,{size:t.size}),u(s,{dir:"right",size:t.size})):s}function d(e,t={}){const{signed:s,size:n}=t,r=BigInt(e);let o;n?o=s?(1n<<8n*BigInt(n)-1n)-1n:2n**(8n*BigInt(n))-1n:"number"==typeof e&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a="bigint"==typeof o&&s?-o-1n:0;if(o&&r>o||r<a){const t="bigint"==typeof e?"n":"";throw new i({max:o?`${o}${t}`:void 0,min:`${a}${t}`,signed:s,size:n,value:`${e}${t}`})}const c=`0x${(s&&r<0?(1n<<BigInt(8*n))+BigInt(r):r).toString(16)}`;return n?u(c,{size:n}):c}const p=new TextEncoder;const g=new TextEncoder;function b(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){const i=d(e,t);return w(i)}(e,t):"boolean"==typeof e?function(e,t={}){const i=new Uint8Array(1);if(i[0]=Number(e),"number"==typeof t.size)return x(i,{size:t.size}),u(i,{size:t.size});return i}(e,t):n(e)?w(e,t):v(e,t)}const y={zero:48,nine:57,A:65,F:70,a:97,f:102};function m(e){return e>=y.zero&&e<=y.nine?e-y.zero:e>=y.A&&e<=y.F?e-(y.A-10):e>=y.a&&e<=y.f?e-(y.a-10):void 0}function w(t,i={}){let s=t;i.size&&(x(s,{size:i.size}),s=u(s,{dir:"right",size:i.size}));let n=s.slice(2);n.length%2&&(n=`0${n}`);const r=n.length/2,o=new Uint8Array(r);for(let a=0,c=0;a<r;a++){const t=m(n.charCodeAt(c++)),i=m(n.charCodeAt(c++));if(void 0===t||void 0===i)throw new e(`Invalid byte sequence ("${n[c-2]}${n[c-1]}" in "${n}").`);o[a]=16*t+i}return o}function v(e,t={}){const i=g.encode(e);return"number"==typeof t.size?(x(i,{size:t.size}),u(i,{dir:"right",size:t.size})):i}function x(e,{size:t}){if(r(e)>t)throw new s({givenSize:r(e),maxSize:t})}function $(e,t={}){const{signed:i}=t;t.size&&x(e,{size:t.size});const s=BigInt(e);if(!i)return s;const n=(e.length-2)/2;return s<=(1n<<8n*BigInt(n)-1n)-1n?s:s-BigInt(`0x${"f".padStart(2*n,"f")}`)-1n}function z(e,t={}){return Number($(e,t))}function P(e,t){return({exclude:i,format:s})=>({exclude:i,format:e=>{const n=t(e);if(i)for(const t of i)delete n[t];return{...n,...s(e)}},type:e})}class I extends e{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class O extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}set(e,t){return super.set(e,t),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}function E(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function U(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function L(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function S(e,t){U(e);const i=t.outputLen;if(e.length<i)throw new Error(`digestInto() expects output buffer of length at least ${i}`)}const A=BigInt(2**32-1),j=BigInt(32);function B(e,t=!1){return t?{h:Number(e&A),l:Number(e>>j&A)}:{h:0|Number(e>>j&A),l:0|Number(e&A)}}function R(e,t=!1){let i=new Uint32Array(e.length),s=new Uint32Array(e.length);for(let n=0;n<e.length;n++){const{h:r,l:o}=B(e[n],t);[i[n],s[n]]=[r,o]}return[i,s]}const k=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),C=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function M(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!(e instanceof Uint8Array))throw new Error("expected Uint8Array, got "+typeof e);return e}class T{clone(){return this._cloneInto()}}function F(e){const t=t=>e().update(M(t)).digest(),i=e();return t.outputLen=i.outputLen,t.blockLen=i.blockLen,t.create=()=>e(),t}const[N,V,_]=[[],[],[]],G=BigInt(0),D=BigInt(1),X=BigInt(2),H=BigInt(7),W=BigInt(256),q=BigInt(113);for(let Pe=0,Ie=D,Oe=1,Ee=0;Pe<24;Pe++){[Oe,Ee]=[Ee,(2*Oe+3*Ee)%5],N.push(2*(5*Ee+Oe)),V.push((Pe+1)*(Pe+2)/2%64);let e=G;for(let t=0;t<7;t++)Ie=(Ie<<D^(Ie>>H)*q)%W,Ie&X&&(e^=D<<(D<<BigInt(t))-D);_.push(e)}const[K,Y]=R(_,!0),J=(e,t,i)=>i>32?((e,t,i)=>t<<i-32|e>>>64-i)(e,t,i):((e,t,i)=>e<<i|t>>>32-i)(e,t,i),Q=(e,t,i)=>i>32?((e,t,i)=>e<<i-32|t>>>64-i)
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */(e,t,i):((e,t,i)=>t<<i|e>>>32-i)(e,t,i);class Z extends T{constructor(e,t,i,s=!1,n=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=i,this.enableXOF=s,this.rounds=n,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,E(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var r;this.state=new Uint8Array(200),this.state32=(r=this.state,new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)))}keccak(){!function(e,t=24){const i=new Uint32Array(10);for(let s=24-t;s<24;s++){for(let s=0;s<10;s++)i[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const t=(s+8)%10,n=(s+2)%10,r=i[n],o=i[n+1],a=J(r,o,1)^i[t],c=Q(r,o,1)^i[t+1];for(let i=0;i<50;i+=10)e[s+i]^=a,e[s+i+1]^=c}let t=e[2],n=e[3];for(let i=0;i<24;i++){const s=V[i],r=J(t,n,s),o=Q(t,n,s),a=N[i];t=e[a],n=e[a+1],e[a]=r,e[a+1]=o}for(let s=0;s<50;s+=10){for(let t=0;t<10;t++)i[t]=e[s+t];for(let t=0;t<10;t++)e[s+t]^=~i[(t+2)%10]&i[(t+4)%10]}e[0]^=K[s],e[1]^=Y[s]}i.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){L(this);const{blockLen:t,state:i}=this,s=(e=M(e)).length;for(let n=0;n<s;){const r=Math.min(t-this.pos,s-n);for(let t=0;t<r;t++)i[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:i,blockLen:s}=this;e[i]^=t,128&t&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){L(this,!1),U(e),this.finish();const t=this.state,{blockLen:i}=this;for(let s=0,n=e.length;s<n;){this.posOut>=i&&this.keccak();const r=Math.min(i-this.posOut,n-s);e.set(t.subarray(this.posOut,this.posOut+r),s),this.posOut+=r,s+=r}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return E(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(S(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:i,outputLen:s,rounds:n,enableXOF:r}=this;return e||(e=new Z(t,i,s,r,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=i,e.outputLen=s,e.enableXOF=r,e.destroyed=this.destroyed,e}}const ee=((e,t,i)=>F((()=>new Z(t,e,i))))(1,136,32);const te=new O(8192);function ie(e,t){if(te.has(`${e}.${t}`))return te.get(`${e}.${t}`);const i=e.substring(2).toLowerCase(),s=(r=v(i),ee(n(r,{strict:!1})?b(r):r));var r;const o=i.split("");for(let n=0;n<40;n+=2)s[n>>1]>>4>=8&&o[n]&&(o[n]=o[n].toUpperCase()),(15&s[n>>1])>=8&&o[n+1]&&(o[n+1]=o[n+1].toUpperCase());const a=`0x${o.join("")}`;return te.set(`${e}.${t}`,a),a}const se=/^0x[a-fA-F0-9]{40}$/,ne=new O(8192);function re(e,t){const{strict:i=!0}=t??{};if(ne.has(e))return ne.get(e);const s=!(!se.test(e)||e.toLowerCase()!==e&&i&&ie(e)!==e);return ne.set(e,s),s}function oe(e){return`0x${e.reduce(((e,t)=>e+t.replace("0x","")),"")}`}class ae extends e{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class ce extends e{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class ue extends e{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const he={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new ue({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new ce({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ae({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ae({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const i=t??this.position;return this.assertPosition(i+e-1),this.bytes.subarray(i,i+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const i=this.inspectBytes(e);return this.position+=t??e,i},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function le(e,{recursiveReadLimit:t=8192}={}){const i=Object.create(he);return i.bytes=e,i.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),i.positionReadCount=new Map,i.recursiveReadLimit=t,i}const fe={ether:-9,wei:9};function de(e,t="wei"){return function(e,t){let i=e.toString();const s=i.startsWith("-");s&&(i=i.slice(1)),i=i.padStart(t,"0");let[n,r]=[i.slice(0,i.length-t),i.slice(i.length-t)];return r=r.replace(/(0+)$/,""),`${s?"-":""}${n||"0"}${r?`.${r}`:""}`}(e,fe[t])}function pe(e){const t=Object.entries(e).map((([e,t])=>void 0===t||!1===t?null:[e,t])).filter(Boolean),i=t.reduce(((e,[t])=>Math.max(e,t.length)),0);return t.map((([e,t])=>`  ${`${e}:`.padEnd(i+1)}  ${t}`)).join("\n")}class ge extends e{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class be extends e{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",pe(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class ye extends e{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class me extends e{constructor({chainId:e}){super("number"==typeof e?`Chain ID "${e}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}class we extends e{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${de(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(we,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class ve extends e{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:i}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${de(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${i?` = ${de(i)} gwei`:""}).`].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}function xe(e,t,i,{strict:s}={}){return n(e,{strict:!1})?function(e,t,i,{strict:s}={}){const n=`0x${e.replace("0x","").slice(2*t,2*i)}`;s&&$e(n,t,i);return n}(e,t,i,{strict:s}):function(e,t,i,{strict:s}={}){const n=e.slice(t,i);s&&$e(n,t,i);return n}(e,t,i,{strict:s})}function $e(e,t,i){if(r(e)!==i-t)throw new a({offset:i,position:"end",size:r(e)})}Object.defineProperty(ve,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});const ze=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{e as B,we as F,T as H,I,ve as T,z as a,le as b,oe as c,P as d,f as e,w as f,ge as g,$ as h,re as i,o as j,xe as k,me as l,be as m,ye as n,n as o,b as p,k as q,L as r,r as s,l as t,M as u,S as v,F as w,C as x,ze as y};
